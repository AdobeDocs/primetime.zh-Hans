---
title: REST API概述
description: Rest API概述
source-git-commit: 326f97d058646795cab5d062fa5b980235f7da37
workflow-type: tm+mt
source-wordcount: '1596'
ht-degree: 0%

---


# REST API概述 {#rest-api-overview}

>[!NOTE]
>
>此页面上的内容仅供参考。 使用此API需要获得Adobe的当前许可证。 不允许未经授权使用。


## 概述 {#over}

Adobe Primetime身份验证REST API提供对随时随地电视(TVE)身份验证和授权服务的直接访问。 此API支持两种主要架构：服务器到服务器或连接的设备（例如游戏机、智能电视、机顶盒等） 没有web浏览功能的应用程序。 

 

### 服务器到服务器

服务器到服务器解决方案包括程序员客户端应用程序，这些应用程序与程序员服务相集成，后者与TVE流的Adobe Primetime认证服务相连。 这种方法将TVE的大部分实施从客户端转移到可以构建和维护单个统一授权模块的服务器。 客户端应用程序的主要剩余责任是管理用于用户身份验证的Web视图。

 

### 连接的设备

连接的设备应用程序通过REST API直接与Primetime身份验证通信，以执行配置、注册、身份验证状态检查和授权流程，而身份验证流程则需要第二个屏幕（浏览器）应用程序。 因此，不使用本机SDK。

 

### 其他架构

除了基于REST API的两个主体系结构、用于智能设备的服务器到服务器和直接客户端解决方案之外，还有其他体系结构。  其中主要是SDK架构，该架构使用名为Access Enabler的客户端组件，Primetime身份验证为程序员提供该组件。  应用程序使用Access Enabler API处理启动、身份验证、授权和注销。  程序员应用程序与Primetime身份验证服务器之间的所有通信都通过Access Enabler进行。  Access Enabler的不同版本可用于以下平台：JavaScript、iOS、tvOS、Android和FireTV。

尽管可以直接在支持服务器到服务器解决方案以外的本机SDK的客户端平台上使用REST API，但不建议使用此方法。

 

## REST API的利弊 {#ProsAndCons}

创建Adobe Primetime身份验证REST API是为了为没有Web浏览功能或永久存储的设备提供随时随地电视(TVE)解决方案。 REST API支持所有身份验证和授权流，但是因为它缺少本机SDK组件。 由Adobe Primetime身份验证提供和维护的SDK附带现成功能，可实施业务规则，在REST API必须由程序员实施和维护的情况下，这些业务规则。 在下面的程序员责任表中，我们描述了当前REST API的限制，这些限制需要程序员解决。

 

### 服务器到服务器与基于客户端的利弊比较

服务器到服务器体系结构提供了一种将大多数与身份验证和授权相关的逻辑整合到单个逻辑单元或实施中的方法。  这种方法有利有弊。  优点包括：

* 用于身份验证和授权业务逻辑的单一实施。
* 避免使用平台本机工具在每个受支持的平台上实施该逻辑。
* 能够更新功能，而无需使用客户端的所有相关要求（例如，应用商店更新）来更新客户端。
* **更轻松** 扩展和自定义authN和authZ功能（例如，添加D2C）。
* 直接管理关联的流量，以加强控制、质量和监控。

 

同样，程序员职责中也列出了缺点，但包括：

* 对于没有平台SSO的平台，必须为每个客户端实施SSO。
* 程序员必须实施特定于MVPD的逻辑（如果需要）。
* 所有使用REST API的平台都共享单个配置来控制属性，如身份验证TTL。

 

### 连接的设备

对于大多数连接的设备，必须以一种或另一种方式使用REST API，因为SDK不可用。 连接的设备将直接使用REST API，或与使用REST API的服务器到服务器解决方案集成。

## 程序员职责 {#programmer-responsibilities}

以下适用于服务器到服务器和连接的设备应用程序。

| **功能** | **负责处理功能** | **描述当前无客户端API的限制以及与本机SDK的差异** |
| --- | --- | --- |
| 按平台应用的配置设置 | Adobe | 一个 **主要限制** 在所有平台(包括iOS和Android等移动设备)中使用REST API时，TVE功能板配置工具中与REST API对应的配置设置将应用于所有设备(即使有iOS设备运行在REST API上实施的本机应用程序)。 此限制 **可以中断** 协议的TTL和与MVPD商定的平台设置（如果每个平台的TTL和设置不同）。 [1](#1) |
| 单点登录 | 程序员 | 使用REST API时，SSO仅在支持平台SSO的平台(例如Apple、Roku、Amazon)上可用，而使用REST API时，无法为其他平台保证SSO。 SDK以跨站点/应用程序方式缓存数据。 这意味着用户在网站/应用程序上登录一次，并且已在参与的网站上登录，无需任何用户交互。 [2](#2) |
| 单次注销 | 程序员 | 在本机SDK SSO方案中，从一个参与的应用程序注销将从所有地方注销用户。 在当前不支持SLO的REST API上，从一个应用程序注销将只为该特定应用程序注销用户。 |
| 缓存 | 程序员 | REST API实施必须针对业务协议的数据项实施其自身的缓存机制。 SDK会自动缓存各种数据项，同时考虑各种业务规则。 例如，用户元数据会缓存，且其TTL与身份验证令牌的TTL相同，而某些项目可以通过编程方式从缓存（预检）中排除。 |
| 详细的错误报告机制 | 程序员 | REST API主要依赖HTTP错误代码来报告应用程序错误，而SDK则具有详细的错误报告机制，可帮助应用程序开发人员更好地了解正在发生的情况。 |
| 应用程序错误恢复（错误时重试、循环检测等） | 程序员 | REST API实施需要构建自己的应用程序恢复系统，而基于SDK的实施将从SDK错误恢复系统中受益：通过使用就地逻辑重试某些网络调用来防止“循环”，从临时网络错误中恢复。 |
| 每个请求者的身份验证 | 程序员 | 某些MVPD需要对每个站点/应用程序进行身份验证，这要么是出于业务原因，要么是由于技术挑战。 SDK会根据TVE功能板配置自动强制执行此操作。 REST API实施者必须自行实施此功能，以便不违反业务协议，或者能够完成对这些MVPD的授权，这些MVPD在每个应用程序中都可设置其身份验证数据范围。 |
| 被动身份验证 | 程序员 | 某些MVPD支持“被动”身份验证，在这种身份验证中，用户无需输入凭据，并且会自动尝试对用户进行身份验证。 这对于要求还具有“每个请求者的身份验证”的MVPD特别有用。 对于此类情况，SDK启用的UX是无缝的，其中用户在某个应用程序中仅进行一次身份验证，而SDK对生态系统中的其他应用程序执行“被动”身份验证。 用户看不到其他被动调用，他将只是已经进行了身份验证，而MVPD实现了为每个应用程序分别进行身份验证会话的目标。 |
| 隐式和均匀的设备检测 | 程序员 | SDK会自动检测设备类型并以标准方式发送该信息。 REST API实施容易根据实施者发送不同的信息，从而影响/破坏各站点的业务规则和统计数据。 **程序员需要确保他们向我们发送正确的设备信息** 在他们的应用上。 对于服务器到服务器实施，除非采取其他步骤，否则REST api无法正确识别最终用户的IP地址。 IP地址在某些用例（如防欺诈或HBA）中很重要。 |
| 防篡改TempPass | 程序员 | 强制实施TempPass基于稳定的设备ID。 SDK使用硬件信息/指纹技术来识别设备，并且此机制不是公共的，因此更加安全且无冲突。 对于REST API实施，程序员需要实施其自己的设备标识/指纹算法。 |
| 设备绑定 | 程序员 | 在通过SDK的应用程序的设备上生成的令牌不可移植，这使得恶意用户很难共享其令牌并提供对其他用户的访问权限。 这基于与“防篡改TempPass”相同的设备ID机制。 对于REST API，令牌将保留在云中，这意味着两个具有相同设备ID且执行相同调用的设备将获得相同的响应/访问权限。 程序员需要确保他们拥有强大、安全且无冲突的机制来生成/分配deviceID。 |
| 一组可预测且经过认证的功能 | 程序员 | 每个SDK中的现有功能集是一致、可预测且经过充分认证和测试的。 某些业务要求通过SDK强制执行，这使得程序员在使用REST API时违反合同的风险很大。 虽然REST API可能更加灵活，但Adobe会确保SDK实施强制从TVE Dashboard执行业务决策和设置。 在无客户端情况下，每个程序员都实施自己的业务规则子集，该子集在给定时间点对其应用程序进行套件。 |


1. 作为我们新的“一个API”计划的一部分，我们计划修复此限制，并能够根据设备标识为每个平台应用规则。

2. Adobe将继续与所有主要平台一起实施可与REST API一起使用的Platform SSO。 我们的“一个API”计划将在使用本机SDK实施的应用程序和使用REST API实施的应用程序之间提供单点登录支持。

## 最低设备要求 {#min_reqs}

要使用Primetime身份验证REST API，设备必须满足或超过 [Primetime身份验证平台/设备/工具要求文档](#general_clientless_reqs).


