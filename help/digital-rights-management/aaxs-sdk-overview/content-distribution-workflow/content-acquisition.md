---
seo-title: 内容获取
title: 内容获取
uuid: f3d8b4ef-bc45-4c2d-962b-638512ca0ef3
translation-type: tm+mt
source-git-commit: 7e8df034035fe465fbe403949ef828e7811ced2e

---


# 内容获取 {#content-acquisition}

当消费者从网站或CDN获取受保护的内容文件时，消费者还必须获得包含密钥的许可证才能对视频进行解密。 以下步骤说明了一个通用的工作流，用于说明如何由运行Flash Player或Adobe AIR的计算机访问受保护的内容：

1. 消费者访问零售商的网站，并选择要观看的视频。 消费者尝试使用Flash Player或Adobe AIR应用程序下载受保护的视频或将其流式传输到计算机。

   如果这是消费者首次尝试使用此特定计算机访问受保护的内容，则必须首先按照步骤2中的说明个性化Flash Player或Adobe AIR运行时。 如果运行时客户端已经个性化，则获取许可证的过程会如步骤3所述。

1. Flash Player或Adobe AIR运行时客户端从Adobe托管的服务器获取唯一的数 *字证书(称为机器证书*)。

   分配唯一证书的这一过程称为个 *性化*。 个性化可唯一标识用于播放内容的计算机和Flash Player或Adobe AIR运行时。

   个性化过程允许下载的许可证绑定到安装了客户端的特定计算机。 每台计算机都有唯一的机器凭证（机器私钥和机器证书）。 如果某个特定客户端被泄露，则可能会撤销该客户端并禁止其获取新内容的许可证。

1. 客户端在开始下载受保护的内容或将其流式传输到消费者的计算机时分析这些内容，并从嵌入在文件中的DRM元数据中提取零售商的许可证服务器的URL。

   DRM元数据通常与内容分开，例如嵌入在随附的清单文件中或作为二进制blob，但也可以嵌入到内容文件中。 客户端通过指定的URL与许可证服务器联系，并获取许可证（如步骤4所述）。
1. 客户端从零售商的许可证服务器获得许可证。

   在许可证获取期间，客户端将标识所请求内容( *DRM元数据*)和机器证书（标识消费者的计算机）的信息发送到零售商的许可证服务器。 发送到服务器的许可证请求使用传输公钥加密，该公钥也包含在DRM元数据中。

   许可证服务器— 这些服务可能集成到零售商的付费和身份验证基础架构中。 可以执行业务规则检查以验证用户是否获得查看所请求内容的授权。 如果业务规则允许，则许可证服务器将发出包含内容加密密钥的许可证以解密与该用户帐户相关联的内容和使用规则。 为了处理许可证请求，许可证服务器使用其传输私钥解密该请求。 使用许可证服务器私钥对元数据中的CEK进行解密，并重新加密以将许可证绑定到发出请求的设备。 许可证使用许可证服务器私钥进行签名。 许可证响应使用传输私钥进行签名，并在返回到客户端之前进行加密。

   如果许可证允许，客户端会存储许可证以启 *用对许可证* 的脱机访问。 许可证缓存允许消费者在每次查看内容时无需重新获取许可证即可查看受保护的内容。

1. Flash Player或Adobe AIR运行时客户端获得许可证后，该客户端将从许可证中提取CEK，消费者可以查看他们有权访问的内容。

   <!--<a id="fig_s43_gc2_44"></a>-->

   ![](assets/FMRMS_fig01_web.png)

   上一个示例仅显示一个可能的工作流。 或者，您也可以将工作流与主动下载的内容一起使用，在这些内容中，许可证获取会在以后很久发生。 另一个选项是实施预购工作流，在该工作流中，在访问内容之前就会获取许可证。

