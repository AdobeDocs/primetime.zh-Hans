---
seo-title: 定义基于时间的规则
title: 定义基于时间的规则
uuid: 17c69869-ac81-4561-9fb6-b1c5c9c4006d
translation-type: tm+mt
source-git-commit: 1b9792a10ad606b99b6639799ac2aacb707b2af5
workflow-type: tm+mt
source-wordcount: '577'
ht-degree: 0%

---


# 定义基于时间的规则{#defining-time-based-rules}

Adobe访问对基于时间的许可限制使用“软强制”。 如果在视频播放期间某个时间权限过期，则“Adobe访问”的默认行为是在下次重新创建视频流之前（通过调用`Netstream.stop()`和`Netstream.play()`）不限制播放。

尽管软强制是默认行为，您也可以通过执行下列任务之一启用硬强制：

* 让视频播放器定期轮询许可证以确保所有时间限制都未过期。 这可以通过调用`DRMManager.loadVoucher(LOCAL_ONLY).`来完成。错误代码指示本地存储的许可证不再有效。
* 每当用户单击“暂停”按钮时，您都可以录制当前视频时间戳，然后调用`Netstream.stop().`当用户单击“播放”按钮时，您可以搜索录制的位置，然后调用`Netstream.play()`。

## 开始日期{#start-date}

指定许可证的有效日期。

示例用例：使用绝对日期在资产发布日期之前颁发内容许可证，或执行“禁运”期。

## 结束日期{#end-date}

指定许可证过期的日期。

示例用例：使用绝对过期日期来反映分发权限的终止。

## 相对结束日期{#relative-end-date}

指定许可证到期日期，表示为与打包日期相关。

示例用例：在自动打包流程中，对一系列视频使用包含此选项的单一策略，将过期日期设置为与打包日期相对的30天。

## 许可证缓存持续时间{#license-caching-duration}

指定许可证可在客户端本地许可证存储中的磁盘上缓存的持续时间，无需从许可证服务器重新获取许可证。 您也可以指定一个绝对日期／时间，在该日期／时间之后，许可证将不能再缓存。

缓存到期日期过后，许可证不再有效，并且客户端必须从许可证服务器请求新许可证。

示例用例：使用许可证缓存持续时间来指定特定许可证的有效固定时间量，例如在租赁用例中。 可以指定30天租赁（带有许可证缓存）以指示使用内容的许可证总持续时间。

## 播放窗口{#playback-window}

指定许可证在首次用于播放受保护内容后有效的持续时间。

示例用例：某些业务模型允许租期为30天，但一旦开始播放，则必须在48小时内完成。 该48小时的许可证寿命定义为播放窗口。

## 同步{#requirements-for-synchronization}的要求

指定客户端将其状态与服务器同步的频率。 如果客户端已经颁发带外许可证（未联系许可证服务器），则使用规则可指定客户端必须向服务器发送同步消息以同步客户端的安全时间并向服务器报告客户端状态。

同步行为使用以下参数定义：

* 开始间隔——指定上次成功同步后等待多长时间以开始另一个同步请求。
* 硬停止间隔—（可选）。 如果在指定的时间段内未成功同步，则不允许播放。
* 强制同步概率—（可选）。 客户端在下一个开始间隔之前发送同步消息的概率。

>[!NOTE]
>
>Adobe访问客户端版本3.0及更高版本支持此使用规则。 旧客户端上的行为取决于许可证服务器支持的最低客户端版本。 请参阅[最低客户端版本](../../../../aaxs-protecting-content/content-implementing-the-license-server/content-handling-license-reqs/content-minimum-client-version.md)。