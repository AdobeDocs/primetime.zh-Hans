---
title: 定义基于时间的规则
description: 定义基于时间的规则
copied-description: true
exl-id: ef72ee76-7d83-486d-86fe-df90c2aaca3a
source-git-commit: be43bbbd1051886c8979ff590a3197b2a7249b6a
workflow-type: tm+mt
source-wordcount: '577'
ht-degree: 0%

---

# 定义基于时间的规则 {#defining-time-based-rules}

Adobe访问使用基于时间的许可证限制的“软实施”。 如果时间权限在视频播放期间过期，则Adobe访问的默认行为是在下次重新创建视频流之前（通过调用）不限制播放 `Netstream.stop()` 和 `Netstream.play()`)。

虽然软实施是默认行为，但您也可以通过执行以下任务之一来启用硬实施：

* 让您的视频播放器定期轮询许可证，以确保时间限制未过期。 这可以通过调用 `DRMManager.loadVoucher(LOCAL_ONLY).`错误代码指示本地存储的许可证不再有效。
* 每当用户单击“暂停”按钮时，您都可以记录当前视频时间戳，然后调用 `Netstream.stop().`当用户单击“播放”按钮时，您可以搜索到录制的位置，然后调用 `Netstream.play()`.

## 开始日期 {#start-date}

指定许可证的有效日期。

示例用例：使用绝对日期在资产可用日期之前颁发内容许可证，或强制执行“禁止”期限。

## 结束日期 {#end-date}

指定许可证的过期日期。

示例用例：使用绝对到期日期反映分发权限的结束。

## 相对结束日期 {#relative-end-date}

指定许可证到期日期，以相对于打包日期的表达式表示。

示例用例：在自动打包过程中，对一系列视频使用带有此选项的单个策略可将过期日期设置为相对于打包日期的30天。

## 许可证缓存持续时间 {#license-caching-duration}

指定可以在客户端的本地许可证存储区的磁盘上缓存许可证而不需要从许可证服务器重新获取的持续时间。 或者，您可以指定一个绝对日期/时间，之后将不再缓存许可证。

一旦缓存过期日期，许可证就不再有效，客户端必须向许可证服务器请求新的许可证。

示例用例：使用许可证缓存持续时间指定特定许可证的固定有效时间量，例如在租赁用例中。 可以指定30天租用（使用许可证缓存）以指示使用内容的总许可证持续时间。

## 播放窗口 {#playback-window}

指定许可证首次用于播放受保护内容后的有效持续时间。

示例用例：某些业务模型允许30天的租赁期，但是，一旦播放开始，它必须在48小时内完成。 许可证的48小时有效期被定义为播放窗口。

## 同步要求 {#requirements-for-synchronization}

指定客户端将其状态与服务器同步的频率。 如果客户机已经获得带外许可证（未联系许可证服务器），则使用规则可指定客户机必须向服务器发送同步消息，以便同步客户机的安全时间并向服务器报告客户机状态。

使用以下参数定义同步行为：

* 开始时间间隔 — 指定在上次成功同步之后等待多长时间以启动另一个同步请求。
* 硬停止间隔 — （可选）。 如果在指定的时间内未成功进行同步，则不允许播放。
* 强制同步概率 — （可选）。 客户端在下一次启动间隔之前发送同步消息的概率。

>[!NOTE]
>
>Adobe访问客户端3.0及更高版本支持此使用规则。 旧版客户端的行为取决于许可证服务器支持的最低客户端版本。 参见， [最低客户端版本](../../../../aaxs-protecting-content/content-implementing-the-license-server/content-handling-license-reqs/content-minimum-client-version.md).
