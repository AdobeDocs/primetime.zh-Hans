---
description: '当消费者从网站或CDN获取受保护的内容文件时，消费者还必须获得包含解密视频的密钥的许可证，然后才能播放视频。 以下步骤说明了一个通用的工作流，用于说明运行Flash Player或Adobe AIR的计算机如何访问受保护的内容 '
seo-description: '当消费者从网站或CDN获取受保护的内容文件时，消费者还必须获得包含解密视频的密钥的许可证，然后才能播放视频。 以下步骤说明了一个通用的工作流，用于说明运行Flash Player或Adobe AIR的计算机如何访问受保护的内容 '
seo-title: 内容获取
title: 内容获取
uuid: 80253746-bc31-43f0-b28b-7a1aa7fe34a7
translation-type: tm+mt
source-git-commit: 7e8df034035fe465fbe403949ef828e7811ced2e
workflow-type: tm+mt
source-wordcount: '752'
ht-degree: 0%

---


# 内容获取{#content-acquisition}

当消费者从网站或CDN获取受保护的内容文件时，消费者还必须获得包含解密视频的密钥的许可证，然后才能播放视频。 以下步骤说明了运行Flash Player或Adobe AIR的计算机如何访问受保护内容的通用工作流程：

1. 消费者访问零售商的网站，并选择要观看的视频。 消费者尝试使用Flash Player或Adobe AIR应用程序下载受保护的视频或将其流式传输到计算机。

   如果这是消费者首次尝试使用此特定计算机访问受保护的内容，则Flash Player或Adobe AIR运行时必须首先按步骤2所述进行个性化。 如果运行时客户端已经个性化，则将按照步骤3中的说明进行获取许可证的过程。

1. Flash Player或Adobe AIR运行时客户端从Adobe托管服务器获取唯一的数字证书（称为&#x200B;*机器证书*）。

   分配唯一证书的过程称为&#x200B;*个性化*。 个性化可唯一标识用于播放内容的计算机和Flash Player或Adobe AIR运行时。

   个性化过程允许下载的许可证绑定到安装了客户端的特定计算机。 每台计算机都有唯一的计算机凭证（机器私钥和机器证书）。 如果特定客户端被泄露，则可能会撤销该客户端并禁止其获取新内容的许可证。

1. 客户端在开始下载受保护的内容或将其流式传输到消费者的计算机时解析该内容，并从嵌入在文件中的Primetime DRM元数据提取零售商的许可证服务器的URL。

   Primetime DRM元数据通常与内容分开，例如嵌入在随附的清单文件中或作为二进制Blob，但也可以嵌入在内容文件中。 客户端通过指定的URL与许可证服务器联系并获取许可证（如步骤4所述）。
1. 客户从零售商的许可证服务器获得许可证。

   在获取许可证期间，客户端将标识所请求的内容（*Primetime DRM元数据*）和机器证书（标识消费者的计算机）的信息发送到零售商的许可证服务器。 发送到服务器的许可证请求使用传输公钥进行加密，该公钥也包含在Primetime DRM元数据中。

   许可证服务器（可能已集成到零售商的付费和身份验证基础架构中）可以执行业务规则检查以验证用户是否已获得授权来视图所请求的内容。 如果业务规则允许，则许可证服务器将颁发包含内容加密密钥的许可证，以解密与该用户帐户相关的内容和使用规则。 要处理许可证请求，许可证服务器使用其传输私钥解密该请求。 元数据中的CEK使用许可证服务器私钥进行解密，并重新加密以将许可证绑定到发出请求的设备。 许可证使用许可证服务器私钥进行签名。 许可证响应使用传输私钥进行签名，并在返回到客户端之前进行加密。

   如果许可证允许，客户端会存储许可证以启用对许可证的&#x200B;*脱机访问*。 使用许可证缓存，消费者可以视图受保护的内容，而无需在每次想要视图内容时重新获取许可证。

1. Flash Player或Adobe AIR运行时客户端获得许可后，客户端将从许可中提取CEK，消费者可以视图他们有权访问的内容。

   <!--<a id="fig_s43_gc2_44"></a>-->

   ![](assets/FMRMS_fig01_web.png)

   上一个示例仅显示一个可能的工作流。 或者，您也可以将工作流与主动下载内容一起使用，稍后会进行许可证获取。 另一种方法是实施预购工作流，在访问内容之前，会获取许可证。

