---
description: 广告解析和广告加载可能会导致等待播放开始的用户出现不可接受的延迟。 延迟广告加载和延迟广告解析功能可减少此启动延迟。
keywords: 延迟；广告解析；广告加载
title: 延迟广告解析
source-git-commit: 02ebc3548a254b2a6554f1ab34afbb3ea5f09bb8
workflow-type: tm+mt
source-wordcount: '476'
ht-degree: 0%

---

# 概述 {#lazy-ad-resolving}

广告解析和广告加载可能会导致等待播放开始的用户出现不可接受的延迟。 延迟广告加载和延迟广告解析功能可减少此启动延迟。

* 基本广告解析和加载流程：

   1. TVSDK下载清单（播放列表）和 *解析* 所有广告。
   1. TVSDK *加载* 所有广告并将其放置在时间轴上。
   1. TVSDK将播放器移到“已准备”状态，并开始播放内容。

  播放器使用清单中的URL获取广告内容（创意），确保广告内容采用TVSDK可以播放的格式，并且TVSDK将广告放在时间轴上。 这种解析和加载广告的基本流程可能会导致等待播放其内容的用户出现不可接受的长延迟，尤其是当清单包含多个广告URL时。

* *延迟广告加载*：

   1. TVSDK下载播放列表并 *解析* 所有广告。
   1. TVSDK *加载* 前置广告，将播放器移到“已准备”状态，并开始内容播放。
   1. TVSDK *加载* 其余的广告，并在播放时将其放在时间轴上。

  在加载所有广告之前，此功能将播放器置于“已准备”状态，从而改进了基本流程。

* *延迟广告解析*：

   1. TVSDK将下载播放列表。
   1. TVSDK解析并加载任何前置广告，将播放器移到“已准备”状态，并开始内容播放。
   1. TVSDK解析并加载其余广告，并在播放时将其放在时间轴上。

  延迟广告解决构建在延迟广告加载上，从而加快启动速度。 TVSDK放置任何前置广告后，会将播放器移到“已准备”状态，然后解析其他广告并将其放置在时间轴上。

>[!IMPORTANT]
>
>考虑延迟广告解决的因素：
>
>* 默认启用延迟广告解析。 如果禁用此项，则所有广告都会在播放开始之前解析。
>* 直到所有广告均已解析之后，延迟广告解析才允许进行搜寻或点击播放：
>
>    * 播放器必须等待 `kEventAdResolutionComplete` 在允许搜寻或特技播放之前的事件。
>    * 如果用户在广告仍在解析时尝试执行搜寻或特技播放操作，TVSDK会引发 `kECLazyAdResolutionInProgress` 错误。
>    * 如有必要，播放器应更新清理栏， *之后* 接收 `kEventAdResolutionComplete` 事件。
>
>* 延迟广告解析仅适用于VOD。 它将不适用于LIVE流。
>* 延迟广告解析与不兼容 *即时打开* 功能。
>
>  有关即时开启的更多信息，请参阅即时开启。
>
>* 虽然延迟广告解析导致播放开始速度更快，但如果在播放的前60秒内出现广告时间，则可能无法解析该广告。
>* 延迟广告分辨率不会影响前置广告。
