---
description: 广告解析和广告加载可能导致等待播放的用户出现无法接受的延迟。 延迟广告加载和延迟广告解析功能可以减少此启动延迟。 3.0版本中的延迟广告解决已发生显着变化。 在3.0之前的延迟广告加载中，广告分辨率被分为两个步骤，即仅解决PREPARED状态之前的预滚动广告和PREPARED状态之后的中间滚动和后滚动广告。 此情况已更改，广告中断现在以广告中断位置之前的指定间隔解析。
keywords: Lazy;Ad resolving;Ad loading
seo-description: 广告解析和广告加载可能导致等待播放的用户出现无法接受的延迟。 延迟广告加载和延迟广告解析功能可以减少此启动延迟。 3.0版本中的延迟广告解决已发生显着变化。 在3.0之前的延迟广告加载中，广告分辨率被分为两个步骤，即仅解决PREPARED状态之前的预滚动广告和PREPARED状态之后的中间滚动和后滚动广告。 此情况已更改，广告中断现在以广告中断位置之前的指定间隔解析。
seo-title: 即时广告解决
title: 即时广告解决
uuid: 77028f6e-7e53-45d1-bcc0-54f8224d6d18
translation-type: tm+mt
source-git-commit: bc35da8b258056809ceaf18e33bed631047bc81b

---


# 概述 {#just-in-time-ad-resolving-overview}

广告解析和广告加载可能导致等待播放的用户出现无法接受的延迟。 延迟广告加载和延迟广告解析功能可以减少此启动延迟。 3.0版本中的延迟广告解决已发生显着变化。 在3.0之前的延迟广告加载中，广告分辨率被分为两个步骤，即仅解决PREPARED状态之前的预滚动广告和PREPARED状态之后的中间滚动和后滚动广告。 此情况已更改，广告中断现在以广告中断位置之前的指定间隔解析。

* 基本广告解析和加载流程：

   1. TVSDK下载清单（播放列表）并 *解析* 所有广告。
   1. TVSDK *加载* 所有广告并将其放在时间轴上。
   1. TVSDK将播放器移入PREPARED状态，内容播放开始。
   播放器使用清单中的URL获取广告内容（创意），确保广告内容采用TVSDK可播放的格式，而TVSDK将广告放在时间轴上。 解析和加载广告的这一基本过程可能导致用户等待播放其内容的长时间延迟，尤其是当清单包含多个广告URL时。

* *延迟广告加载*:

   1. TVSDK下载一个播放列表 *并解析* 所有广告。
   1. TVSDK加 *载前置广告* ，将播放器移入PREPARED状态，内容播放开始。
   1. TVSDK加 *载其余* ，并在播放时将其放在时间轴上。
   此功能通过在加载所有广告之前将播放器置于PREPARED状态，改进了基本流程。

* *延迟广告解决*:

   1. TVSDK下载播放列表。
   1. TVSDK解析并加载任何预先播放的广告，将播放器移入PREPARED状态，内容播放开始。
   1. TVSDK会根据以下计算逐个解析其余的广告：

      `AdvertisingMetadata::getDelayAdLoadingTolerance() + PlayBufferTime::playBufferTime + the value defined in EXT-X-TARGETDURATION`

      默认情况下，对于具有6秒Target持续时间的内容，这将是5.0 + 30.0 + 6.0秒（41秒）

   1. 如果广告中断在开始位置后的10秒内发生，则在PREPARED状态之前，广告将与前置广告一起解决。

>[!IMPORTANT]
>
>**懒惰广告解决应考虑的因素：** >
>* 只有SERVER_MAP和MANIFEST_CAIS模式的VOD流才支持延迟广告解析。
>* 默认情况下，“延迟广告解析”未启用。 如果禁用，则在播放开始之前，所有广告都会解析在VOD流上。
>* “延迟广告解析”与“即时打开”功能不兼容。 有关“即时打开”的详细信息，请参阅“即时打开”。
>* 通过延迟广告解决，在广告中断前行时，搜索过程中将解决与搜索位置最接近的广告中断。
>* 通过延迟广告解析，如果多个广告分段同时存在(VMAP)，则它们将同时被解析。
>* 建议不要将*setDelayAdLoadingTolerance()*的值降低到默认值（5秒）以下。 这样做可能导致播放器不必要地“缓冲”。
>* 延迟广告解决不会影响前置广告。
>* Auditude-Plugin当前支持延迟广告解析。 如果您使用自定义解 **&#x200B;析程序，则建议不要将setDelayAdLoading设置为true。
>


