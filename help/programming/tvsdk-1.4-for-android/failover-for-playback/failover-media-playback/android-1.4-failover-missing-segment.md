---
description: 当某个区段丢失时（例如，某个特定的区段无法下载时），会尝试通过各种故障转移尝试进行恢复。 如果无法恢复，则会发出错误。
title: 缺少区段故障转移
translation-type: tm+mt
source-git-commit: 89bdda1d4bd5c126f19ba75a819942df901183d1
workflow-type: tm+mt
source-wordcount: '287'
ht-degree: 0%

---


# 缺少区段故障转移{#missing-segment-failover}

当某个区段丢失时（例如，某个特定的区段无法下载时），会尝试通过各种故障转移尝试进行恢复。 如果无法恢复，则会发出错误。

如果服务器上缺少区段，例如，清单文件不存在，区段无法下载，依此类推，TVSDK会尝试通过尝试以下选项来故障转移：

1. 尝试以相同位速率在变体文件中故障转移到同一段。
1. 在同一文件中切换到备用位速率（ABR开关）。
1. 循环查看每个可用变体中的每个可用比特率。
1. 跳过区段并发出警告。

当TVSDK无法获取替代区段时，它会触发`CONTENT_ERROR`错误通知。 此通知包含代码为`DOWNLOAD_ERROR`的内部通知。 如果出现问题的流是替代音轨，则生成`AUDIO_TRACK_ERROR`错误通知。

如果视频引擎连续无法获取区段，它会将连续区段跳转限制为5，然后停止播放，并发出代码5的`NATIVE_ERROR`。

>[!NOTE]
>
>发生故障转移时，不考虑自适应比特率(ABR)控制参数。 这是因为故障切换机制设计为将任何当前可用的播放列表用作备份流，而不管这些播放列表的位速率用户档案如何。
>
>在故障转移操作期间，可以有一个用户档案交换机。 如果在下载其中一个播放列表段期间发生错误，则忽略ABR控制参数，如最小/最大允许位速率。

