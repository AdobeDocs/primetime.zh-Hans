---
description: 通过Internet进行流式传输需要持续稳定的连接才能从远程服务器播放流。 但是，查看者的Internet连接或流播放的可变性意味着远程播放可能没有本地播放的媒体质量。
title: 播放和故障切换
exl-id: 8316dfb8-3a2e-4057-a3d7-e3d8860e5bd4
source-git-commit: be43bbbd1051886c8979ff590a3197b2a7249b6a
workflow-type: tm+mt
source-wordcount: '451'
ht-degree: 0%

---

# 播放和故障切换 {#playback-and-failover}

通过Internet进行流式传输需要持续稳定的连接才能从远程服务器播放流。 但是，查看者的Internet连接或流播放的可变性意味着远程播放可能没有本地播放的媒体质量。

Primetime无法针对ISP中断或电缆断开等故障提供保护。 但是，Primetime流提供故障转移保护，可保护播放免受某些远程服务器故障或操作故障的影响，从而为查看者提供更好的体验。 浏览器TVSDK实施故障转移保护，以最大程度地减少播放中断，并在存在传输问题的情况下实现无缝播放。 当整个演绎版或片段不可用时，视频播放器会自动切换到备份媒体集。

## 媒体播放 {#media-playback}

对于实时和VOD媒体，浏览器TVSDK开始播放的方式是下载与中间分辨率比特率关联的播放列表，然后下载由播放列表定义的中间分辨率比特率媒体的区段。

浏览器TVSDK快速选择高分辨率的比特率播放列表及其相关媒体并继续下载过程。

## 缺少播放列表故障转移 {#section_81A5822C108449E1A0E94A6E25DE9E8E}

当整个播放列表丢失时，例如，当在顶级清单文件中指定的M3U8文件未下载时，浏览器TVSDK将尝试恢复。 如果无法恢复，应用程序将决定下一步。

如果缺少与中间分辨率比特率关联的播放列表，则浏览器TVSDK会搜索具有相同分辨率的变体播放列表。 如果找到相同分辨率，则开始从匹配位置下载变体播放列表和区段。 如果浏览器TVSDK找不到相同分辨率的播放列表，它将尝试循环查看其他比特率播放列表及其变体。 立即降低比特率是首选，然后是它的变体，依此类推。 如果在尝试查找有效播放列表时耗尽了所有较低比特率的播放列表及其变体，则浏览器TVSDK将转到最高比特率并从此处开始计数。 如果找不到有效的播放列表，则播放过程将失败，播放器将转为“错误”状态。

您的应用程序可以决定如何处理这种情况。 例如，您可能希望关闭播放器活动并将用户定向到目录活动。 感兴趣的事件是状态或状态更改的事件，对应的回调是状态更改的方法。 以下代码用于监视播放器是否将其内部状态更改为“错误”：

```js
case AdobePSDK.MediaPlayerStatus.ERROR:  
var errorDesc = event.metadata.getValue('DESCRIPTION'); 
console.log(errorDesc); 
break; 
```
